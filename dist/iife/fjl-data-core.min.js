/**! fjl-data-core.js 1.0.0 | License: BSD-3-Clause | Built-on: Fri Nov 16 2018 12:01:18 GMT-0500 (Eastern Standard Time) **/function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var fjlDataCore=function(t,n){"use strict";function e(t){this.wrapped=t}function r(t){function n(t,n){return new Promise(function(e,o){var f={key:t,arg:n,resolve:e,reject:o,next:null};i?i=i.next=f:(u=i=f,r(t,n))})}function r(n,u){try{var i=t[n](u),f=i.value,c=f instanceof e;Promise.resolve(c?f.wrapped:f).then(function(t){if(c)return void r("next",t);o(i.done?"return":"normal",t)},function(t){r("throw",t)})}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":u.resolve({value:n,done:!0});break;case"throw":u.reject(n);break;default:u.resolve({value:n,done:!1})}u=u.next,u?r(u.key,u.arg):i=null}var u,i;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function u(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&u(t.prototype,n),e&&u(t,e),t}function f(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n){return!n||"object"!==_typeof(n)&&"function"!=typeof n?s(t):n}function p(t,n){return y(t)||h(t,n)||v()}function y(t){if(Array.isArray(t))return t}function h(t,n){var e=[],r=!0,o=!1,u=void 0;try{for(var i,f=t[Symbol.iterator]();!(r=(i=f.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==f.return||f.return()}finally{if(o)throw u}}return e}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(){return O||(this instanceof m?(O=this,void Object.freeze(O)):new m)}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(t){return this._invoke("next",t)},r.prototype.throw=function(t){return this._invoke("throw",t)},r.prototype.return=function(t){return this._invoke("return",t)};var O,b=function(){function t(n){o(this,t),this.value=n}return i(t,[{key:"valueOf",value:function(){return this.value}},{key:"map",value:function(t){return new this.constructor(t(this.valueOf()))}},{key:"fmap",value:function(t){return this.map(t)}}]),t}(),w=function(t){function e(){return o(this,e),l(this,c(e).apply(this,arguments))}return f(e,t),i(e,[{key:"ap",value:function(t){return t.map(n.toFunction(this.valueOf()))}}]),e}(b),k=function(t){function n(){return o(this,n),l(this,c(n).apply(this,arguments))}return f(n,t),i(n,null,[{key:"of",value:function(t){return new n(t)}}]),n}(w),d=function(t){function n(t,e){var r;return o(this,n),r=l(this,c(n).call(this,t)),r.value2=e,r}return f(n,t),i(n,[{key:"value2Of",value:function(){return this.value2}},{key:"first",value:function(t){return new this.constructor(t(this.valueOf()),this.value2Of())}},{key:"second",value:function(t){return new this.constructor(this.valueOf(),t(this.value2Of()))}},{key:"bimap",value:function(t,n){return new this.constructor(t(this.valueOf()),n(this.value2Of()))}}]),n}(b),j=function(t){return t&&t instanceof F},g=function(t){return t.valueOf()},M=g,_=n.curry(function(t,n){return n.map(t)}),I=n.curry(function(t,n){return t.ap(n)}),S=n.curry(function(t,n){return n.flatMap(t)}),x=function(t){return[function e(r){return n.instanceOf(t,r)?function(){return e(r.valueOf())}:r},"trampolineCall"]},E=function(t,e){if(!n.isset(e))return e;var r=x(t),o=p(r,2),u=o[0],i=o[1];return n.trampoline(u,i)(e)},F=function(t){function n(){return o(this,n),l(this,c(n).apply(this,arguments))}return f(n,t),i(n,[{key:"join",value:function(){return this.valueOf()}},{key:"flatMap",value:function(t){var n=E(this.constructor,t(this.join()));return this.constructor.of(n)}},{key:"chain",value:function(t){return this.flatMap(t)}}],[{key:"of",value:function(t){return new n(t)}}]),n}(k),P=function(t){function e(t){return o(this,e),l(this,c(e).call(this,n.toFunction(t)))}return f(e,t),i(e,null,[{key:"unWrapIO",value:function(t){return e.isIO(t)?E(e,t):t}},{key:"of",value:function(t){return new e(t)}},{key:"isIO",value:function(t){return t instanceof e}},{key:"do",value:function(t){for(var r=e.isIO(t)?t:new e(t),o=arguments.length,u=new Array(o>1?o-1:0),i=1;i<o;i++)u[i-1]=arguments[i];return n.compose(e.of,e.unWrapIO)(n.toFunction(r.join()).apply(void 0,u))}}]),i(e,[{key:"flatMap",value:function(t){return n.compose(this.constructor.of,e.unWrapIO,t,e.unWrapIO)(n.toFunction(this.join())())}},{key:"map",value:function(t){return n.compose(this.constructor.of,t)(n.toFunction(this.valueOf())())}}]),e}(F),W=function(t){return t===O},C=function(){return new m},A=function(t){return this};m.prototype.valueOf=A,m.prototype.join=A,m.prototype.map=A,m.prototype.ap=A,m.prototype.flatMap=A,m.of=function(t){return new m},Object.freeze(m);var R=function(t){return t instanceof J},T=function(t){return new J(t)},J=function(t){function e(){return o(this,e),l(this,c(e).apply(this,arguments))}return f(e,t),i(e,[{key:"map",value:function(t){var e=this.constructor,r=this.valueOf();return n.isset(r)&&!W(r)?e.of(t(r)):e.counterConstructor.of(r)}}],[{key:"of",value:function(t){return T(t)}}]),e}(F);J.counterConstructor=m;var L=x(J),z=p(L,2),N=z[0],q=z[1],B=n.curry(function(t,e,r){var o=n.isset(r)&&H(r)?r.map(n.id):C();return W(o)?t:o.map(e).join()}),D=n.trampoline(N,q),U=function(t){return W(t)?C():D(t)},G=n.curry(function(t,n){return U(t)===U(n)}),H=function(t){return W(t)||R(t)},K=function(t){return n.isset(t)?H(t)?t:T(t):C()},Q=function(t){function n(){return o(this,n),l(this,c(n).apply(this,arguments))}return f(n,t),i(n,null,[{key:"of",value:function(t){return new n(t)}}]),n}(F),V=function(t){function e(){return o(this,e),l(this,c(e).apply(this,arguments))}return f(e,t),i(e,[{key:"map",value:function(t){var r=this.valueOf();return $(r)?r:n.isset(r)?e.of(t(r)):Q.of("TypeError: Cannot operate on `".concat(r,"`."))}}],[{key:"of",value:function(t){return new e(t)}}]),e}(J),X=function(t){return new Q(t)},Y=function(t){return new V(t)},Z=function(t){return t instanceof V},$=function(t){return t instanceof Q},tt=function(t){return Z(t)?t:Y(t)},nt=function(t){return $(t)?t:X(t)},et=function(t){return $(t)||Z(t)?t:Y(t).map(n.id)},rt=n.curry(function(t,e,r){var o=et(r).flatMap(n.id),u=Z(r)?o.flatMap(n.toFunction(e)):o.flatMap(t);return n.isset(u)?u.join():u});return t.Functor=b,t.Apply=w,t.Applicative=k,t.Bifunctor=d,t.IO=P,t.Monad=F,t.isMonad=j,t.valueOf=g,t.join=M,t.fmap=_,t.ap=I,t.flatMap=S,t.getMonadUnWrapper=x,t.Just=J,t.isJust=R,t.isNothing=W,t.Nothing=m,t.just=T,t.nothing=C,t.maybe=B,t.unWrapJust=D,t.unWrapMaybe=U,t.maybeEqual=G,t.isMaybe=H,t.toMaybe=K,t.Left=Q,t.Right=V,t.left=X,t.right=Y,t.isRight=Z,t.isLeft=$,t.toRight=tt,t.toLeft=nt,t.toEither=et,t.either=rt,t}({},fjl);