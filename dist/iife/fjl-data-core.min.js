/**! fjl-data-core.js 1.0.0 | License: BSD-3-Clause | Built-on: Sun Nov 11 2018 22:53:32 GMT-0500 (Eastern Standard Time) **/function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var fjlDataCore=function(n,t){"use strict";function e(n){this.wrapped=n}function r(n){function t(n,t){return new Promise(function(e,u){var a={key:n,arg:t,resolve:e,reject:u,next:null};i?i=i.next=a:(o=i=a,r(n,t))})}function r(t,o){try{var i=n[t](o),a=i.value,f=a instanceof e;Promise.resolve(f?a.wrapped:a).then(function(n){if(f)return void r("next",n);u(i.done?"return":"normal",n)},function(n){r("throw",n)})}catch(n){u("throw",n)}}function u(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?r(o.key,o.arg):i=null}var o,i;this._invoke=t,"function"!=typeof n.return&&(this.return=void 0)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}function a(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&c(n,t)}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function c(n,t){return(c=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function s(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l(n,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?s(n):t}function p(){return y||(this instanceof p?(y=this,void Object.freeze(y)):new p)}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(n){return this._invoke("next",n)},r.prototype.throw=function(n){return this._invoke("throw",n)},r.prototype.return=function(n){return this._invoke("return",n)};var y,h=function(){function n(t){u(this,n),this.value=t}return i(n,[{key:"valueOf",value:function(){return this.value}},{key:"map",value:function(n){return new this.constructor(n(this.valueOf()))}},{key:"fmap",value:function(n){return this.map(n)}}]),n}(),v=function(n){return t.isFunction(n)?n:function(){return n}},m=function(n){return n.map?n:new h(n)},O=function(n){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}return a(t,n),i(t,[{key:"ap",value:function(n){return n.map(v(this.valueOf()))}}]),t}(h),k=function(n){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}return a(t,n),i(t,null,[{key:"of",value:function(n){return new t(n)}}]),t}(O),w=function(n){function t(n,e){var r;return u(this,t),r=l(this,f(t).call(this,n)),r.value2=e,r}return a(t,n),i(t,[{key:"value2Of",value:function(){return this.value2}},{key:"first",value:function(n){return new this.constructor(n(this.valueOf()),this.value2Of())}},{key:"second",value:function(n){return new this.constructor(this.valueOf(),n(this.value2Of()))}},{key:"bimap",value:function(n,t){return new this.constructor(n(this.valueOf()),t(this.value2Of()))}}]),t}(h),b=function(n){return n instanceof W},d=function(n){return n.valueOf()},j=function(n){return n.join()},g=t.curry(function(n,t){return t.map(n)}),M=t.curry(function(n,t){return n.ap(t)}),_=t.curry(function(n,t){return t.flatMap(n)}),I=function(n){var e=t.instanceOf(n);return function n(t){return e(t)?function(){return n(t.valueOf())}:t}},S=function(n){return function(){for(var e=arguments.length,r=new Array(e),u=0;u<e;u++)r[u]=arguments[u];for(var o=t.apply(n,r);t.isset(o)&&"trampolineCall"===o.name&&t.isFunction(o);)o=o();return o}},W=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"join",value:function(){return e.unWrapMonadByType(this.constructor,this)}},{key:"flatMap",value:function(n){var t=e.unWrapMonadByType(this.constructor,n(this.join()));return this.constructor.of(t)}},{key:"chain",value:function(n){return this.flatMap(n)}}],[{key:"unWrapMonadByType",value:function(n,e){return t.isset(e)?S(I(n))(e):e}},{key:"of",value:function(n){return new e(n)}},{key:"isMonad",value:function(n){return b(n)}}]),e}(k),x=function(n){function e(n){return u(this,e),l(this,f(e).call(this,v(n)))}return a(e,n),i(e,null,[{key:"unWrapIO",value:function(n){return e.isIO(n)?W.unWrapMonadByType(e,n):n}},{key:"of",value:function(n){return new e(n)}},{key:"isIO",value:function(n){return n instanceof e}},{key:"do",value:function(n){for(var r=e.isIO(n)?n:new e(n),u=arguments.length,o=new Array(u>1?u-1:0),i=1;i<u;i++)o[i-1]=arguments[i];return t.compose(e.of,e.unWrapIO)(v(r.join()).apply(void 0,o))}}]),i(e,[{key:"flatMap",value:function(n){return t.compose(this.constructor.of,e.unWrapIO,n,e.unWrapIO)(v(this.join())())}},{key:"map",value:function(n){return t.compose(this.constructor.of,n)(v(this.valueOf())())}}]),e}(W),P=function(n){return n===y},T=function(){return new p},C=function(){return this},B=p.prototype;B.valueOf=C,B.join=C,B.map=C,B.ap=C,B.flatMap=C,p.of=function(){return new p},p.isNothing=P,p.nothing=T,Object.freeze(p);var F=function(n){return n instanceof E},A=function(n){return new E(n)},E=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"map",value:function(n){var e=this.constructor,r=this.valueOf();return t.isset(r)&&!P(r)?e.of(n(r)):e.counterConstructor.of(r)}}],[{key:"of",value:function(n){return A(n)}},{key:"isJust",value:function(n){return F(n)}}]),e}(W);E.counterConstructor=p;var J=t.curry(function(n,e,r){var u=t.isset(r)&&N(r)?r.map(t.id):p.of();return P(u)?n:u.map(e).join()}),N=function(n){return P(n)||F(n)},R=function(n){return t.isset(n)?A(n):T()},z=function(n){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}return a(t,n),i(t,null,[{key:"of",value:function(n){return new t(n)}}]),t}(W),L=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"map",value:function(n){var r=this.valueOf();return U(r)?r:t.isset(r)?e.of(n(r)):z.of("TypeError: Cannot operate on `null` and/or `undefined`.  "+"Value given `".concat(r,"`."))}}],[{key:"of",value:function(n){return new e(n)}}]),e}(E),D=function(n){return n instanceof L},U=function(n){return n instanceof z},V=t.curry(function(n,e,r){var u=m(r).map(t.id);switch(u.constructor){case z:return u.map(v(n)).join();case L:return u.map(v(e)).join();default:return z.of(r).map(n).join()}});return n.Functor=h,n.Apply=O,n.Applicative=k,n.Bifunctor=w,n.IO=x,n.Monad=W,n.isMonad=b,n.valueOf=d,n.join=j,n.fmap=g,n.ap=M,n.flatMap=_,n.getMonadUnWrapper=I,n.trampoline=S,n.Just=E,n.isJust=F,n.isNothing=P,n.Nothing=p,n.just=A,n.nothing=T,n.maybe=J,n.isMaybe=N,n.toMaybe=R,n.Left=z,n.Right=L,n.isRight=D,n.isLeft=U,n.either=V,n.toFunction=v,n.alwaysFunctor=m,n}({},fjl);