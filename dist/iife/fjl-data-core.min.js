/**! fjl-data-core.js 1.0.0 | License: BSD-3-Clause | Built-on: Tue Nov 13 2018 16:23:14 GMT-0500 (Eastern Standard Time) **/function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var fjlDataCore=function(n,t){"use strict";function e(n){this.wrapped=n}function r(n){function t(n,t){return new Promise(function(e,u){var a={key:n,arg:t,resolve:e,reject:u,next:null};i?i=i.next=a:(o=i=a,r(n,t))})}function r(t,o){try{var i=n[t](o),a=i.value,f=a instanceof e;Promise.resolve(f?a.wrapped:a).then(function(n){if(f)return void r("next",n);u(i.done?"return":"normal",n)},function(n){r("throw",n)})}catch(n){u("throw",n)}}function u(n,t){switch(n){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?r(o.key,o.arg):i=null}var o,i;this._invoke=t,"function"!=typeof n.return&&(this.return=void 0)}function u(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function i(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}function a(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&c(n,t)}function f(n){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function c(n,t){return(c=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function s(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function l(n,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?s(n):t}function p(n,t){return y(n)||h(n,t)||v()}function y(n){if(Array.isArray(n))return n}function h(n,t){var e=[],r=!0,u=!1,o=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done)&&(e.push(i.value),!t||e.length!==t);r=!0);}catch(n){u=!0,o=n}finally{try{r||null==a.return||a.return()}finally{if(u)throw o}}return e}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(){return O||(this instanceof m?(O=this,void Object.freeze(O)):new m)}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(n){return this._invoke("next",n)},r.prototype.throw=function(n){return this._invoke("throw",n)},r.prototype.return=function(n){return this._invoke("return",n)};var O,b=function(){function n(t){u(this,n),this.value=t}return i(n,[{key:"valueOf",value:function(){return this.value}},{key:"map",value:function(n){return new this.constructor(n(this.valueOf()))}},{key:"fmap",value:function(n){return this.map(n)}}]),n}(),w=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"ap",value:function(n){return n.map(t.toFunction(this.valueOf()))}}]),e}(b),k=function(n){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}return a(t,n),i(t,null,[{key:"of",value:function(n){return new t(n)}}]),t}(w),d=function(n){function t(n,e){var r;return u(this,t),r=l(this,f(t).call(this,n)),r.value2=e,r}return a(t,n),i(t,[{key:"value2Of",value:function(){return this.value2}},{key:"first",value:function(n){return new this.constructor(n(this.valueOf()),this.value2Of())}},{key:"second",value:function(n){return new this.constructor(this.valueOf(),n(this.value2Of()))}},{key:"bimap",value:function(n,t){return new this.constructor(n(this.valueOf()),t(this.value2Of()))}}]),t}(b),j=function(n){return n&&n instanceof F},M=function(n){return n.map?n:new F(n)},g=function(n){return n.valueOf()},_=g,I=t.curry(function(n,t){return t.map(n)}),S=t.curry(function(n,t){return n.ap(t)}),W=t.curry(function(n,t){return t.flatMap(n)}),x=function(n){return[function e(r){return t.instanceOf(n,r)?function(){return e(r.valueOf())}:r},"trampolineCall"]},F=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"join",value:function(){return this.valueOf()}},{key:"flatMap",value:function(n){var t=e.unWrapMonadByType(this.constructor,n(this.join()));return this.constructor.of(t)}},{key:"chain",value:function(n){return this.flatMap(n)}}],[{key:"unWrapMonadByType",value:function(n,e){if(!t.isset(e))return e;var r=x(n),u=p(r,2),o=u[0],i=u[1];return t.trampoline(o,i)(e)}},{key:"of",value:function(n){return new e(n)}},{key:"isMonad",value:function(n){return j(n)}}]),e}(k),P=function(n){function e(n){return u(this,e),l(this,f(e).call(this,t.toFunction(n)))}return a(e,n),i(e,null,[{key:"unWrapIO",value:function(n){return e.isIO(n)?F.unWrapMonadByType(e,n):n}},{key:"of",value:function(n){return new e(n)}},{key:"isIO",value:function(n){return n instanceof e}},{key:"do",value:function(n){for(var r=e.isIO(n)?n:new e(n),u=arguments.length,o=new Array(u>1?u-1:0),i=1;i<u;i++)o[i-1]=arguments[i];return t.compose(e.of,e.unWrapIO)(t.toFunction(r.join()).apply(void 0,o))}}]),i(e,[{key:"flatMap",value:function(n){return t.compose(this.constructor.of,e.unWrapIO,n,e.unWrapIO)(t.toFunction(this.join())())}},{key:"map",value:function(n){return t.compose(this.constructor.of,n)(t.toFunction(this.valueOf())())}}]),e}(F),T=function(n){return n===O},C=function(){return new m},E=function(){return this},A=m.prototype;A.valueOf=E,A.join=E,A.map=E,A.ap=E,A.flatMap=E,m.of=function(){return new m},m.isNothing=T,m.nothing=C,Object.freeze(m);var B=function(n){return n instanceof R},J=function(n){return new R(n)},R=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"map",value:function(n){var e=this.constructor,r=this.valueOf();return t.isset(r)&&!T(r)?e.of(n(r)):e.counterConstructor.of(r)}}],[{key:"of",value:function(n){return J(n)}},{key:"isJust",value:function(n){return B(n)}}]),e}(F);R.counterConstructor=m;var L=x(R),N=p(L,2),z=N[0],q=N[1],D=t.curry(function(n,e,r){var u=t.isset(r)&&K(r)?r.map(t.id):m.of();return T(u)?n:u.map(e).join()}),U=t.trampoline(z,q),G=function(n){return T(n)?C():U(n)},H=t.curry(function(n,t){return G(n)===G(t)}),K=function(n){return T(n)||B(n)},Q=function(n){return t.isset(n)?J(n):C()},V=function(n){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}return a(t,n),i(t,null,[{key:"of",value:function(n){return new t(n)}}]),t}(F),X=function(n){function e(){return u(this,e),l(this,f(e).apply(this,arguments))}return a(e,n),i(e,[{key:"map",value:function(n){var r=this.valueOf();return Z(r)?r:t.isset(r)?e.of(n(r)):V.of("TypeError: Cannot operate on `".concat(r,"`."))}}],[{key:"of",value:function(n){return new e(n)}}]),e}(R),Y=function(n){return n instanceof X},Z=function(n){return n instanceof V},$=t.curry(function(n,e,r){var u=M(r).flatMap(t.id),o=Y(r)?u.flatMap(t.toFunction(e)):V.of(u).flatMap(n);return t.isset(o)?o.join():o}),nn=function(n){return Y(n)?n:new X(n)},tn=function(n){return Z(n)?n:new V(n)};return n.Functor=b,n.Apply=w,n.Applicative=k,n.Bifunctor=d,n.IO=P,n.Monad=F,n.isMonad=j,n.valueOf=g,n.join=_,n.fmap=I,n.ap=S,n.flatMap=W,n.getMonadUnWrapper=x,n.Just=R,n.isJust=B,n.isNothing=T,n.Nothing=m,n.just=J,n.nothing=C,n.maybe=D,n.unWrapJust=U,n.unWrapMaybe=G,n.maybeEqual=H,n.isMaybe=K,n.toMaybe=Q,n.Left=V,n.Right=X,n.isRight=Y,n.isLeft=Z,n.either=$,n.toRight=nn,n.toLeft=tn,n}({},fjl);