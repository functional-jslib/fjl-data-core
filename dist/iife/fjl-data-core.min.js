/**! fjl-data-core.js 1.0.1 | License: BSD-3-Clause | Built-on: Mon Dec 24 2018 07:02:03 GMT-0500 (Eastern Standard Time) **/function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var fjlDataCore=function(t,n){"use strict";function e(t){this.wrapped=t}function r(t){function n(t,n){return new Promise(function(e,u){var f={key:t,arg:n,resolve:e,reject:u,next:null};i?i=i.next=f:(o=i=f,r(t,n))})}function r(n,o){try{var i=t[n](o),f=i.value,a=f instanceof e;Promise.resolve(a?f.wrapped:f).then(function(t){if(a)return void r("next",t);u(i.done?"return":"normal",t)},function(t){r("throw",t)})}catch(t){u("throw",t)}}function u(t,n){switch(t){case"return":o.resolve({value:n,done:!0});break;case"throw":o.reject(n);break;default:o.resolve({value:n,done:!1})}o=o.next,o?r(o.key,o.arg):i=null}var o,i;this._invoke=n,"function"!=typeof t.return&&(this.return=void 0)}function u(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,n,e){return n&&o(t.prototype,n),e&&o(t,e),t}function f(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&c(t,n)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,n){return(c=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,n){return!n||"object"!==_typeof(n)&&"function"!=typeof n?s(t):n}function p(t,n){return y(t)||h(t,n)||v()}function y(t){if(Array.isArray(t))return t}function h(t,n){var e=[],r=!0,u=!1,o=void 0;try{for(var i,f=t[Symbol.iterator]();!(r=(i=f.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){u=!0,o=t}finally{try{r||null==f.return||f.return()}finally{if(u)throw o}}return e}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function O(){return m||(this instanceof O?(m=this,void Object.freeze(m)):new O)}"function"==typeof Symbol&&Symbol.asyncIterator&&(r.prototype[Symbol.asyncIterator]=function(){return this}),r.prototype.next=function(t){return this._invoke("next",t)},r.prototype.throw=function(t){return this._invoke("throw",t)},r.prototype.return=function(t){return this._invoke("return",t)};var m,b=function(){function t(n){u(this,t),this.value=n}return i(t,[{key:"valueOf",value:function(){return this.value}},{key:"map",value:function(t){return new this.constructor(t(this.valueOf()))}},{key:"fmap",value:function(t){return this.map(t)}}]),t}(),w=function(t){function e(){return u(this,e),l(this,a(e).apply(this,arguments))}return f(e,t),i(e,[{key:"ap",value:function(t){return t.map(n.toFunction(this.valueOf()))}}]),e}(b),k=function(t){function n(){return u(this,n),l(this,a(n).apply(this,arguments))}return f(n,t),i(n,null,[{key:"of",value:function(t){return new n(t)}},{key:"liftA2",value:function(t,n,e){return n.constructor.of(t(n.valueOf(),e.valueOf))}},{key:"apRight",value:function(t,n){return n}},{key:"apLeft",value:function(t,n){return t}}]),n}(w),d=function(t){function n(t,e){var r;return u(this,n),r=l(this,a(n).call(this,t)),r.value2=e,r}return f(n,t),i(n,[{key:"value2Of",value:function(){return this.value2}},{key:"first",value:function(t){return new this.constructor(t(this.valueOf()),this.value2Of())}},{key:"second",value:function(t){return new this.constructor(this.valueOf(),t(this.value2Of()))}},{key:"bimap",value:function(t,n){return new this.constructor(t(this.valueOf()),n(this.value2Of()))}}]),n}(b),j=function(t){return t&&t instanceof F},g=function(t){return t.valueOf()},M=g,_=n.curry(function(t,n){return n.map(t)}),I=n.curry(function(t,n){return t.ap(n)}),S=n.curry(function(t,n){return n.flatMap(t)}),x=function(t){return[function e(r){return n.instanceOf(t,r)?function(){return e(r.valueOf())}:r},"trampolineCall"]},E=function(t,e){if(!n.isset(e))return e;var r=x(t),u=p(r,2),o=u[0],i=u[1];return n.trampoline(o,i)(e)},F=function(t){function n(){return u(this,n),l(this,a(n).apply(this,arguments))}return f(n,t),i(n,[{key:"join",value:function(){return this.valueOf()}},{key:"flatMap",value:function(t){var n=E(this.constructor,t(this.join()));return this.constructor.of(n)}},{key:"chain",value:function(t){return this.flatMap(t)}}],[{key:"of",value:function(t){return new n(t)}}]),n}(k),P=function(t){function e(t){return u(this,e),l(this,a(e).call(this,n.toFunction(t)))}return f(e,t),i(e,null,[{key:"unWrapIO",value:function(t){return e.isIO(t)?E(e,t):t}},{key:"of",value:function(t){return new e(t)}},{key:"isIO",value:function(t){return t instanceof e}},{key:"do",value:function(t){for(var r=e.isIO(t)?t:new e(t),u=arguments.length,o=new Array(u>1?u-1:0),i=1;i<u;i++)o[i-1]=arguments[i];return n.compose(e.of,e.unWrapIO)(n.toFunction(r.join()).apply(void 0,o))}}]),i(e,[{key:"flatMap",value:function(t){return n.compose(this.constructor.of,e.unWrapIO,t,e.unWrapIO)(n.toFunction(this.join())())}},{key:"map",value:function(t){return n.compose(this.constructor.of,t)(n.toFunction(this.valueOf())())}}]),e}(F),W=function(t){return t===m},A=function(){return new O},C=function(t){return this};O.prototype.valueOf=C,O.prototype.join=C,O.prototype.map=C,O.prototype.ap=C,O.prototype.flatMap=C,O.of=function(t){return new O},Object.freeze(O);var R=function(t){return t instanceof T},L=function(t){return new T(t)},T=function(t){function e(){return u(this,e),l(this,a(e).apply(this,arguments))}return f(e,t),i(e,[{key:"map",value:function(t){var e=this.constructor,r=this.valueOf();return n.isset(r)&&!W(r)?e.of(t(r)):e.counterConstructor.of(r)}}],[{key:"of",value:function(t){return L(t)}}]),e}(F);T.counterConstructor=O;var J=x(T),z=p(J,2),N=z[0],q=z[1],B=n.curry(function(t,e,r){var u=n.isset(r)&&H(r)?r.map(n.id):A();return W(u)?t:u.map(e).join()}),D=n.trampoline(N,q),U=function(t){return W(t)?A():D(t)},G=n.curry(function(t,n){return U(t)===U(n)}),H=function(t){return W(t)||R(t)},K=function(t){return n.isset(t)?H(t)?t:L(t):A()},Q=function(t){function n(){return u(this,n),l(this,a(n).apply(this,arguments))}return f(n,t),i(n,null,[{key:"of",value:function(t){return new n(t)}}]),n}(F),V=function(t){function e(){return u(this,e),l(this,a(e).apply(this,arguments))}return f(e,t),i(e,[{key:"map",value:function(t){var r=this.valueOf();return $(r)?r:n.isset(r)?e.of(t(r)):Q.of("TypeError: Cannot operate on `".concat(r,"`."))}}],[{key:"of",value:function(t){return new e(t)}}]),e}(T),X=function(t){return new Q(t)},Y=function(t){return new V(t)},Z=function(t){return t instanceof V},$=function(t){return t instanceof Q},tt=function(t){return Z(t)?t:Y(t)},nt=function(t){return $(t)?t:X(t)},et=function(t){return $(t)||Z(t)?t:Y(t).map(n.id)},rt=n.curry(function(t,e,r){var u=et(r).flatMap(n.id),o=Z(r)?u.flatMap(n.toFunction(e)):u.flatMap(t);return n.isset(o)?o.join():o});return t.Functor=b,t.Apply=w,t.Applicative=k,t.Bifunctor=d,t.IO=P,t.Monad=F,t.isMonad=j,t.valueOf=g,t.join=M,t.fmap=_,t.ap=I,t.flatMap=S,t.getMonadUnWrapper=x,t.Just=T,t.isJust=R,t.isNothing=W,t.Nothing=O,t.just=L,t.nothing=A,t.maybe=B,t.unWrapJust=D,t.unWrapMaybe=U,t.maybeEqual=G,t.isMaybe=H,t.toMaybe=K,t.Left=Q,t.Right=V,t.left=X,t.right=Y,t.isRight=Z,t.isLeft=$,t.toRight=tt,t.toLeft=nt,t.toEither=et,t.either=rt,t}({},fjl);